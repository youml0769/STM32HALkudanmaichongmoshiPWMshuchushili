# STM32 HAL库单脉冲模式PWM输出示例

## 项目描述

本项目提供了一个基于STM32F103C8T6单片机的HAL库单脉冲模式PWM输出示例。通过使用Keil MDK 5.32版本，本示例展示了如何配置定时器2和定时器3来实现PWM信号的输入捕获和输出控制。

## 主要功能

- **定时器2配置**：
  - 采用PWM输入捕获模式，复位从模式（触发则复位CNT寄存器）。
    - 通道1（PA0）设置为上升沿触发，IC1上升沿捕获，IC2下降沿捕获。
      - 开启IC1捕获中断。
        - 分频为7200，计一个数为0.1ms，重装载值为65535。

        - **定时器3配置**：
          - 采用PWM输出模式，触发从模式（触发则使能定时器）。
            - 通道2（PA7）设置为下降沿触发，OC1（PA6）为PWM输出模式。
              - 分频为7200，计一个数为0.1ms，重装载值为100，CCR1寄存器为50。
                - 输出PWM波周期为10ms，占空比为50%。
                  - 定时器3在单脉冲模式下工作，发生更新事件则失能定时器，即10ms后失能定时器。

                  - **单脉冲模式**：
                    - 负责失能定时器。
                      - 触发从模式（通道2 PA7检测到上升沿信号）负责使能定时器。

                      - **LED控制**：
                        - PC13控制LED灯，每50ms亮灭一次。

                        ## 硬件连接

                        - 使用杜邦线连接PA0和PA6。
                        - 使用杜邦线连接PA7和PC13。

                        ## 输出波形分析

                        通过上述配置，输出的PWM波高电平持续时间为95ms，低电平为5ms。可以通过绘制波形图来进一步分析。

                        ## 注意事项

                        - 确保硬件连接正确，避免短路或其他硬件故障。
                        - 根据实际需求调整定时器的分频和重装载值，以满足不同的应用场景。

                        ## 使用说明

                        1. 下载本仓库的资源文件。
                        2. 使用Keil MDK 5.32版本打开项目文件。
                        3. 根据硬件连接图连接STM32F103C8T6开发板。
                        4. 编译并下载程序到开发板。
                        5. 观察PWM输出波形和LED灯的闪烁情况。

                        ## 贡献

                        欢迎提交问题和改进建议，帮助我们完善这个示例项目。

                        ## 下载链接
                        [STM32HAL库单脉冲模式PWM输出示例](https://pan.quark.cn/s/3844363a5da9) 

                        (备用: [备用下载](https://pan.baidu.com/s/1229Z1EeVProkFUbfc2TFYw?pwd=1234))

                        ## 说明

                        该仓库仅用于学习交流，请勿用于商业用途。
